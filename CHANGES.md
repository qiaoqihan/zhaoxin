# 前端控制面板学生信息修改说明

## 修改内容

### 1. API 接口更新

- 修改了 `src/api/index.ts` 中的 API 端点，使其与后端实际 API 路径匹配：
  - 学生 API: `/api/admin/stu`
  - 面试 API: `/api/interv`
  - 统计 API: `/api/admin/stat`

### 2. 学生信息显示优化

- 简化了表格显示，只显示：姓名、部门、面试人、面试日期
- 保持了原有的页面布局和组件位置
- 移除了不必要的详细信息列

### 3. 编辑功能实现

- 点击学生信息行的"编辑"按钮，右侧弹出抽屉式编辑框
- 编辑框包含以下部分：
  - 基本信息：姓名、NetID、电话、书院
  - 志愿信息：第一志愿、第二志愿
  - 技能信息：已掌握技能、想学习技能
  - 面试信息（如果已安排面试）：面试时间、面试官、面试部门、评分、评价、结果

### 4. 数据获取方式

- 修改了 `fetchStudents` 方法从后端 API 获取学生数据
- 保持了错误处理和模拟数据的后备方案
- 更新学生信息时会调用后端 API 进行持久化

### 5. 用户体验改进

- 使用抽屉（Drawer）组件替代对话框，提供更好的编辑体验
- 添加了表单验证规则
- 保存时显示加载状态
- 提供成功/失败的消息提示

### 6. 时间表组件重新设计

- 参考现代课程表界面，重新设计了时间表组件
- 采用网格布局，左侧显示时间轴，顶部显示日期
- 面试信息以卡片形式显示在对应的时间格子中
- 不同部门使用不同颜色区分（技术部-红色，视频部-紫色，美工部-绿色）
- 右侧显示迷你月历和部门图例
- 点击面试卡片可查看详细信息，点击空白格子可添加新面试
- 支持周视图导航，可以前后切换周次

### 7. 时间表功能特性

- **周视图布局**：显示一周 7 天的面试安排，时间从 08:00 到 17:00
- **智能导航**：支持周次切换，显示当前周次信息
- **月历联动**：右侧月历显示面试指示点，点击日期可跳转到对应周
- **颜色编码**：按部门区分颜色，便于快速识别
- **交互体验**：点击面试查看详情，点击空白时段添加面试
- **响应式设计**：适配不同屏幕尺寸

## 技术特点

- 保持了原有的代码结构和组件架构
- 兼容现有的数据格式和 API 规范
- 提供了良好的错误处理和用户反馈
- 响应式设计，适配不同屏幕尺寸

## 使用说明

1. 在学生列表中点击任意学生行的"编辑"按钮
2. 右侧会弹出编辑抽屉，包含该学生的详细信息
3. 修改需要更改的信息
4. 点击"保存"按钮提交更改
5. 系统会尝试保存到后端，同时更新前端显示

## 后端 API 依赖

- `GET /api/admin/stu` - 获取学生列表
- `PUT /api/admin/stu` - 更新学生信息（需要包含 id 字段）
